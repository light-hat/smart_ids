<h1 align="center"> Smart IDS </h1>

<p align="center">
<a href="https://github.com/light-hat/smart_ids/actions"><img alt="Unit test status" src="https://img.shields.io/badge/Python-3.12-3776AB.svg?style=flat&logo=python&logoColor=white"></a>
<a href="https://github.com/light-hat/smart_ids/actions"><img alt="Pylint status" src="https://github.com/light-hat/smart_ids/workflows/Pylint/badge.svg"></a>
<a href="https://github.com/light-hat/smart_ids/actions"><img alt="Bandit SAST status" src="https://github.com/light-hat/smart_ids/workflows/SAST/badge.svg"></a>
<a href="https://github.com/psf/black"><img alt="Code style: black" src="https://img.shields.io/badge/code%20style-black-000000.svg"></a>
</p>

<p align="center">
–í–µ–±-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—è–≤–ª—è–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –∞—Ç–∞–∫–∏ –º–µ—Ç–æ–¥–∞–º–∏ ML. –í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º –Ω–∞ GPU, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ PCAP-–¥–∞–º–ø–æ–≤ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞, –≥–∏–±–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –æ–±—Ä–∞–±–æ—Ç–∫–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å SIEM-—Å–∏—Å—Ç–µ–º–∞–º–∏ (–≤ –±—É–¥—É—â–µ–º).
</p>

<p align="center">
<i>Read this in other languages: </i> 
<a href="https://github.com/light-hat/smart_ids/blob/master/Readme.md">English</a>,
–†—É—Å—Å–∫–∏–π.
</p>

<h2 align="center"> –°—Ç–µ–∫ </h2>

<p align="center">

<img src="https://img.shields.io/badge/nVIDIA-%2376B900.svg?style=for-the-badge&logo=nVIDIA&logoColor=white">
<img src="https://img.shields.io/badge/cuda-000000.svg?style=for-the-badge&logo=nVIDIA&logoColor=green">
<img src="https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54">
<img src="https://img.shields.io/badge/django-%23092E20.svg?style=for-the-badge&logo=django&logoColor=white">
<img src="https://img.shields.io/badge/DJANGO-REST-ff1709?style=for-the-badge&logo=django&logoColor=white&color=ff1709&labelColor=gray">
<img src="https://img.shields.io/badge/celery-%23a9cc54.svg?style=for-the-badge&logo=celery&logoColor=ddf4a4">
<img src="https://img.shields.io/badge/numpy-%23013243.svg?style=for-the-badge&logo=numpy&logoColor=white">
<img src="https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white">
<img src="https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white">
<img src="https://img.shields.io/badge/grafana-%23F46800.svg?style=for-the-badge&logo=grafana&logoColor=white">
<img src="https://img.shields.io/badge/Prometheus-E6522C?style=for-the-badge&logo=Prometheus&logoColor=white">
<img src="https://img.shields.io/badge/nginx-%23009639.svg?style=for-the-badge&logo=nginx&logoColor=white">
<img src="https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white">

</p>

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

<!-- TOC -->
  * [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
  * [–ü–∞—Ä—É —Å–ª–æ–≤ –æ –º–æ–¥–µ–ª–∏](#–ø–∞—Ä—É-—Å–ª–æ–≤-–æ-–º–æ–¥–µ–ª–∏)
  * [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
    * [–ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ](#–∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ-–æ–∫—Ä—É–∂–µ–Ω–∏–µ)
    * [–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ](#–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ-–æ–∫—Ä—É–∂–µ–Ω–∏–µ)
  * [–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ)
    * [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-—Å–µ—Ä–≤–µ—Ä–∞)
    * [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
    * [–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞](#–∑–∞–ø—É—Å–∫-–ø—Ä–æ–µ–∫—Ç–∞)
  * [–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è](#—ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è)
    * [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-api)
    * [–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å](#–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è-–ø–∞–Ω–µ–ª—å)
<!-- TOC -->

## –ü–∞—Ä—É —Å–ª–æ–≤ –æ –º–æ–¥–µ–ª–∏

–î–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –≤–∑—è—Ç–∞ –º–æ–¥–µ–ª—å [rdpahalavan/bert-network-packet-flow-header-payload](https://huggingface.co/rdpahalavan/bert-network-packet-flow-header-payload) –Ω–∞ Hugging Face.

–ù–æ—É—Ç–±—É–∫ —Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏ –æ –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](https://github.com/TPs-ESIR-S9/PcapFileAnalysis/blob/main/NetworkPcapAnalysis.ipynb).

–ú–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–∞–∫–µ—Ç—ã –Ω–∞ 24 –∫–ª–∞—Å—Å–∞:

```python
['Analysis',
 'Backdoor',
 'Bot',
 'DDoS',
 'DoS',
 'DoS GoldenEye',
 'DoS Hulk',
 'DoS SlowHTTPTest',
 'DoS Slowloris',
 'Exploits',
 'FTP Patator',
 'Fuzzers',
 'Generic',
 'Heartbleed',
 'Infiltration',
 'Normal',
 'Port Scan',
 'Reconnaissance',
 'SSH Patator',
 'Shellcode',
 'Web Attack - Brute Force',
 'Web Attack - SQL Injection',
 'Web Attack - XSS',
 'Worms']
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å | –ó–Ω–∞—á–µ–Ω–∏–µ     |
|-------------|--------------|
| CPU         | `4 —è–¥—Ä–∞`     |
| RAM         | `32 –ì–±`      |
| Disk        | `150 –ì–±`     |
| GPU         | `16 –ì–± VRAM` |

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

> [!NOTE]
> –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å Ubuntu 22.04 —Å GPU Tesla T4.

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

> [!TIP]
> –î–ª—è –Ω–∞—á–∞–ª–∞ —Å—Ç–æ–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ Docker Compose –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –ø–æ —ç—Ç–æ–π [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](https://docs.docker.com/engine/install/ubuntu/) —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ Docker.

–ö–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `Docker`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä–∞–π–≤–µ—Ä–∞ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã:

```shell
nvidia-smi
```

<details>
  <summary>üëÄ –ß—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ</summary>

<hr />

```
Sat Jan  4 01:37:28 2025       
+---------------------------------------------------------------------------------------+
| NVIDIA-SMI 535.183.01             Driver Version: 535.183.01   CUDA Version: 12.2     |
|-----------------------------------------+----------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |
|                                         |                      |               MIG M. |
|=========================================+======================+======================|
|   0  Tesla T4                       Off | 00000000:00:06.0 Off |                  Off |
| N/A   49C    P0              28W /  70W |    783MiB / 16384MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
```

<hr />

</details>

<details>
  <summary>üëÄ –ö–∞–∫ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä–∞ –Ω–∞ GPU</summary>

<hr />

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —è–¥—Ä–∞:

```shell
sudo apt update
sudo apt-get install build-essential linux-headers-$(uname -r)
```

–ò—â–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥—Ä–∞–π–≤–µ—Ä–∞:

```shell
ubuntu-drivers devices
```

–ù–∞—Ö–æ–¥–∏–º –≤ –≤—ã–≤–æ–¥–µ –ø–æ—Ö–æ–∂—É—é —Å—Ç—Ä–æ—á–∫—É:

```text
...
driver   : nvidia-driver-535 - distro non-free recommended
...
```

–≠—Ç–æ –≤–µ—Ä—Å–∏—è –¥—Ä–∞–π–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—É—é –≤–∞–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å. –î–µ–ª–∞–µ–º —ç—Ç–æ:

```shell
sudo apt-get install nvidia-driver-535
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä:

```shell
sudo reboot
```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥—Ä–∞–π–≤–µ—Ä–∞ GPU:

```shell
nvidia-smi
```

<hr />

</details>

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ `NVIDIA Container Toolkit`:

```shell
dpkg -l | grep nvidia-container-toolkit
```

<details>
  <summary>üëÄ –ß—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ</summary>

<hr />

```
ii  nvidia-container-toolkit          1.17.3-1          amd64     NVIDIA Container toolkit
ii  nvidia-container-toolkit-base     1.17.3-1          amd64     NVIDIA Container Toolkit Base

```

<hr />

</details>

> [!TIP]
> –ï—Å–ª–∏ –≤ —ç—Ç–æ–º –æ—Ç–≤–µ—Ç–µ –ø—É—Å—Ç–æ, –≤–æ—Ç [–º–∞–Ω—É–∞–ª](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html) c –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å NVIDIA Container Toolkit.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –Ω–∞—á–∞–ª–∞ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```shell
git clone https://github.com/light-hat/smart_ids
cd smart_ids
```

–í –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```
API_URL=127.0.0.1
API_PORT=80
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=shop_database
GF_SECURITY_ADMIN_PASSWORD=admin
GF_SECURITY_ADMIN_USER=admin
```

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

- `API_URL`: –∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç —Å–µ—Ä–≤–∏—Å;

- `API_PORT`: –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å–µ—Ä–≤–∏—Å;

- `POSTGRES_HOST`: —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –≤ —Å—Ç–µ–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π);

- `POSTGRES_PORT`: –ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö;

- `POSTGRES_USER`: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö;

- `POSTGRES_PASSWORD`: –ø–∞—Ä–æ–ª—å –æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö;

- `POSTGRES_DB`: –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π —Å–µ—Ä–≤–∏—Å–æ–º;

- `GF_SECURITY_ADMIN_PASSWORD`: –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Grafana;

- `GF_SECURITY_ADMIN_USER`: –ø–∞—Ä–æ–ª—å –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Grafana.

–ú–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç:

```shell
./configure.sh
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ç–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Docker —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π:

```shell
docker-compose up -d --build
```

<details>
  <summary>üëÄ –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∑–¥–æ—Ä–æ–≤—ã–π –ª–æ–≥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ</summary>

<hr />

–õ–æ–≥ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞:

```shell
sudo docker compose logs triton
```

```text
triton-1  | 
triton-1  | =============================
triton-1  | == Triton Inference Server ==
triton-1  | =============================
triton-1  | 
triton-1  | NVIDIA Release 23.01 (build 52277748)
triton-1  | Triton Server Version 2.30.0
triton-1  | 
triton-1  | Copyright (c) 2018-2022, NVIDIA CORPORATION & AFFILIATES.  All rights reserved.
triton-1  | 
triton-1  | Various files include modifications (c) NVIDIA CORPORATION & AFFILIATES.  All rights reserved.
triton-1  | 
triton-1  | This container image and its contents are governed by the NVIDIA Deep Learning Container License.
triton-1  | By pulling and using the container, you accept the terms and conditions of this license:
triton-1  | https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
triton-1  | 
triton-1  | I0104 00:22:29.587736 1 pinned_memory_manager.cc:240] Pinned memory pool is created at '0x7f438a000000' with size 268435456
triton-1  | I0104 00:22:29.591405 1 cuda_memory_manager.cc:105] CUDA memory pool is created on device 0 with size 67108864
triton-1  | I0104 00:22:29.596887 1 model_lifecycle.cc:459] loading: distilbert_classifier:1
triton-1  | I0104 00:22:29.599877 1 onnxruntime.cc:2459] TRITONBACKEND_Initialize: onnxruntime
triton-1  | I0104 00:22:29.599965 1 onnxruntime.cc:2469] Triton TRITONBACKEND API version: 1.11
triton-1  | I0104 00:22:29.600015 1 onnxruntime.cc:2475] 'onnxruntime' TRITONBACKEND API version: 1.11
triton-1  | I0104 00:22:29.600051 1 onnxruntime.cc:2505] backend configuration:
triton-1  | {"cmdline":{"auto-complete-config":"true","min-compute-capability":"6.000000","backend-directory":"/opt/tritonserver/backends","default-max-batch-size":"4"}}
triton-1  | I0104 00:22:29.622589 1 onnxruntime.cc:2563] TRITONBACKEND_ModelInitialize: distilbert_classifier (version 1)
triton-1  | I0104 00:22:29.623700 1 onnxruntime.cc:666] skipping model configuration auto-complete for 'distilbert_classifier': inputs and outputs already specified
triton-1  | I0104 00:22:29.624518 1 onnxruntime.cc:2606] TRITONBACKEND_ModelInstanceInitialize: distilbert_classifier (GPU device 0)
triton-1  | 2025-01-04 00:22:30.303281404 [W:onnxruntime:, session_state.cc:1030 VerifyEachNodeIsAssignedToAnEp] Some nodes were not assigned to the preferred execution providers which may or may not have an negative impact on performance. e.g. ORT explicitly assigns shape related ops to CPU to improve perf.
triton-1  | 2025-01-04 00:22:30.303326346 [W:onnxruntime:, session_state.cc:1032 VerifyEachNodeIsAssignedToAnEp] Rerunning with verbose output on a non-minimal build will show node assignments.
triton-1  | I0104 00:22:30.591136 1 model_lifecycle.cc:694] successfully loaded 'distilbert_classifier' version 1
triton-1  | I0104 00:22:30.591333 1 server.cc:563] 
triton-1  | +------------------+------+
triton-1  | | Repository Agent | Path |
triton-1  | +------------------+------+
triton-1  | +------------------+------+
triton-1  | 
triton-1  | I0104 00:22:30.591412 1 server.cc:590] 
triton-1  | +-------------+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
triton-1  | | Backend     | Path                                                            | Config                                                                                                                                                        |
triton-1  | +-------------+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
triton-1  | | onnxruntime | /opt/tritonserver/backends/onnxruntime/libtriton_onnxruntime.so | {"cmdline":{"auto-complete-config":"true","min-compute-capability":"6.000000","backend-directory":"/opt/tritonserver/backends","default-max-batch-size":"4"}} |
triton-1  | +-------------+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
triton-1  | 
triton-1  | I0104 00:22:30.591520 1 server.cc:633] 
triton-1  | +-----------------------+---------+--------+
triton-1  | | Model                 | Version | Status |
triton-1  | +-----------------------+---------+--------+
triton-1  | | distilbert_classifier | 1       | READY  |
triton-1  | +-----------------------+---------+--------+
triton-1  | 
triton-1  | I0104 00:22:30.668177 1 metrics.cc:864] Collecting metrics for GPU 0: Tesla T4
triton-1  | I0104 00:22:30.669197 1 metrics.cc:757] Collecting CPU metrics
triton-1  | I0104 00:22:30.669509 1 tritonserver.cc:2264] 
triton-1  | +----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
triton-1  | | Option                           | Value                                                                                                                                                                                                |
triton-1  | +----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
triton-1  | | server_id                        | triton                                                                                                                                                                                               |
triton-1  | | server_version                   | 2.30.0                                                                                                                                                                                               |
triton-1  | | server_extensions                | classification sequence model_repository model_repository(unload_dependents) schedule_policy model_configuration system_shared_memory cuda_shared_memory binary_tensor_data statistics trace logging |
triton-1  | | model_repository_path[0]         | /models/                                                                                                                                                                                             |
triton-1  | | model_control_mode               | MODE_NONE                                                                                                                                                                                            |
triton-1  | | strict_model_config              | 0                                                                                                                                                                                                    |
triton-1  | | rate_limit                       | OFF                                                                                                                                                                                                  |
triton-1  | | pinned_memory_pool_byte_size     | 268435456                                                                                                                                                                                            |
triton-1  | | cuda_memory_pool_byte_size{0}    | 67108864                                                                                                                                                                                             |
triton-1  | | response_cache_byte_size         | 0                                                                                                                                                                                                    |
triton-1  | | min_supported_compute_capability | 6.0                                                                                                                                                                                                  |
triton-1  | | strict_readiness                 | 1                                                                                                                                                                                                    |
triton-1  | | exit_timeout                     | 30                                                                                                                                                                                                   |
triton-1  | +----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
triton-1  | 
triton-1  | I0104 00:22:30.673629 1 grpc_server.cc:4819] Started GRPCInferenceService at 0.0.0.0:8001
triton-1  | I0104 00:22:30.674047 1 http_server.cc:3477] Started HTTPService at 0.0.0.0:8000
triton-1  | I0104 00:22:30.715444 1 http_server.cc:184] Started Metrics Service at 0.0.0.0:8002
```

–õ–æ–≥ API:

```shell
sudo docker compose logs api
```

```text
api-1  | DB not yet run...
api-1  | DB did run.
api-1  | Migrations for 'ids':
api-1  |   ids/migrations/0001_initial.py
api-1  |     + Create model Dump
api-1  |     + Create model HandledPacket
api-1  | Operations to perform:
api-1  |   Apply all migrations: admin, auth, contenttypes, ids, sessions
api-1  | Running migrations:
api-1  |   Applying contenttypes.0001_initial... OK
api-1  |   Applying auth.0001_initial... OK
api-1  |   Applying admin.0001_initial... OK
api-1  |   Applying admin.0002_logentry_remove_auto_add... OK
api-1  |   Applying admin.0003_logentry_add_action_flag_choices... OK
api-1  |   Applying contenttypes.0002_remove_content_type_name... OK
api-1  |   Applying auth.0002_alter_permission_name_max_length... OK
api-1  |   Applying auth.0003_alter_user_email_max_length... OK
api-1  |   Applying auth.0004_alter_user_username_opts... OK
api-1  |   Applying auth.0005_alter_user_last_login_null... OK
api-1  |   Applying auth.0006_require_contenttypes_0002... OK
api-1  |   Applying auth.0007_alter_validators_add_error_messages... OK
api-1  |   Applying auth.0008_alter_user_username_max_length... OK
api-1  |   Applying auth.0009_alter_user_last_name_max_length... OK
api-1  |   Applying auth.0010_alter_group_name_max_length... OK
api-1  |   Applying auth.0011_update_proxy_permissions... OK
api-1  |   Applying auth.0012_alter_user_first_name_max_length... OK
api-1  |   Applying ids.0001_initial... OK
api-1  |   Applying sessions.0001_initial... OK
api-1  | [2025-01-04 00:22:48 +0000] [76] [INFO] Starting gunicorn 23.0.0
api-1  | [2025-01-04 00:22:48 +0000] [76] [INFO] Listening at: http://0.0.0.0:8000 (76)
api-1  | [2025-01-04 00:22:48 +0000] [76] [INFO] Using worker: sync
api-1  | [2025-01-04 00:22:48 +0000] [77] [INFO] Booting worker with pid: 77
```

–õ–æ–≥ –≤–æ—Ä–∫–µ—Ä–∞:

```shell
sudo docker compose logs worker
```

```text
worker-1  | User information: uid=0 euid=0 gid=0 egid=0
worker-1  | 
worker-1  |   warnings.warn(SecurityWarning(ROOT_DISCOURAGED.format(
worker-1  |  
worker-1  |  -------------- celery@0a10f82c8415 v5.4.0 (opalescent)
worker-1  | --- ***** ----- 
worker-1  | -- ******* ---- Linux-5.15.0-130-generic-x86_64-with-glibc2.36 2025-01-04 03:22:34
worker-1  | - *** --- * --- 
worker-1  | - ** ---------- [config]
worker-1  | - ** ---------- .> app:         config:0x7f543c451df0
worker-1  | - ** ---------- .> transport:   redis://redis:6379//
worker-1  | - ** ---------- .> results:     redis://redis:6379/
worker-1  | - *** --- * --- .> concurrency: 4 (prefork)
worker-1  | -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
worker-1  | --- ***** ----- 
worker-1  |  -------------- [queues]
worker-1  |                 .> celery           exchange=celery(direct) key=celery
worker-1  |                 
worker-1  | 
worker-1  | [tasks]
worker-1  |   . ids.tasks.process_dump_file

```

<hr />

</details>

## –≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

API –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø—Ä–∏ –ø–æ–º–æ—â–∏ Swagger (`drf-spectacular`).

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API: `http://127.0.0.1/api/docs/`

YAML: `http://127.0.0.1/api/schema/`

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

–ê–¥–º–∏–Ω–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1/admin`.

–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞: `admin:admin`.

> [!IMPORTANT]
> –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–µ.
